<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Meta Tags -->
  <title>Estat√≠sticas - Let's Help It | Dashboard de ONGs do RS</title>
  <meta name="description" content="Dashboard de estat√≠sticas das organiza√ß√µes cadastradas no Let's Help It. Veja dados sobre ONGs no Rio Grande do Sul por categoria, localiza√ß√£o e m√©todos de doa√ß√£o.">
  <meta name="keywords" content="estat√≠sticas, ONGs, Rio Grande do Sul, dashboard, dados, doa√ß√µes, voluntariado">
  <meta name="author" content="Daniel Wildt">
  <meta name="robots" content="index, follow">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://dwildt.github.io/letshelpit/statistics.html">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dwildt.github.io/letshelpit/statistics.html">
  <meta property="og:title" content="Estat√≠sticas - Let's Help It">
  <meta property="og:description" content="Dashboard de estat√≠sticas das organiza√ß√µes cadastradas no Let's Help It.">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" type="image/x-icon" href="favicon.ico">

  <!-- CSS -->
  <link rel="stylesheet" href="css/output.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/statistics.css">
</head>
<body class="min-h-screen flex flex-col">

  <!-- Skip Links -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-50" role="banner">
    <div class="container mx-auto px-4 py-4">
      <div class="flex justify-between items-center">
        <!-- Logo & Title -->
        <a href="index.html" class="flex items-center space-x-3 hover:opacity-80 transition">
          <div class="text-3xl">ü§ù</div>
          <div>
            <h1 class="text-2xl font-bold text-gray-800" data-i18n="site.title">Let's Help It</h1>
            <p class="text-sm text-gray-600" data-i18n="statistics.subtitle">Estat√≠sticas</p>
          </div>
        </a>

        <!-- Actions -->
        <div class="flex items-center gap-2">
          <a
            href="index.html"
            class="px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition text-sm font-medium"
            data-i18n="nav.home">
            ‚Üê Voltar
          </a>
          <button
            id="theme-toggle"
            class="px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-2xl transition hover:scale-110"
            onclick="toggleTheme()"
            aria-label="Toggle theme">
            <span id="theme-icon">‚òÄÔ∏è</span>
          </button>
          <button
            id="lang-toggle"
            class="px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-2xl transition hover:scale-110"
            onclick="toggleLanguage()"
            aria-label="Toggle language">
            <span id="lang-flag">üáßüá∑</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main-content" class="flex-1 statistics-container" role="main">

    <!-- Loading State -->
    <div id="loading-state" class="loading-container">
      <div class="loading-spinner"></div>
      <p class="loading-text" data-i18n="statistics.loading">Carregando estat√≠sticas...</p>
    </div>

    <!-- Error State -->
    <div id="error-state" class="error-container hidden">
      <p data-i18n="statistics.error">Erro ao carregar estat√≠sticas. Por favor, tente novamente.</p>
    </div>

    <!-- Statistics Content -->
    <div id="statistics-content" class="hidden">

      <!-- Header -->
      <div class="statistics-header">
        <h2 class="statistics-title" data-i18n="statistics.title">üìä Estat√≠sticas</h2>
        <p class="statistics-subtitle" data-i18n="statistics.description">
          Dados agregados sobre as organiza√ß√µes cadastradas no Let's Help It
        </p>
      </div>

      <!-- Overview Cards -->
      <div class="stat-cards-grid" id="overview-cards">
        <!-- Populated by JavaScript -->
      </div>

      <!-- Charts Section: Categories -->
      <section class="chart-section">
        <h3 class="chart-section-title" data-i18n="statistics.byCategory">üìÇ Distribui√ß√£o por Categoria</h3>
        <div class="chart-grid">
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.categoryPie">Categorias (Pizza)</h4>
            <canvas id="chart-category-pie" class="chart-canvas"></canvas>
          </div>
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.categoryBar">Top 10 Categorias (Barras)</h4>
            <canvas id="chart-category-bar" class="chart-canvas"></canvas>
          </div>
        </div>
      </section>

      <!-- Charts Section: Location -->
      <section class="chart-section">
        <h3 class="chart-section-title" data-i18n="statistics.byLocation">üìç Distribui√ß√£o por Localiza√ß√£o</h3>
        <div class="chart-grid">
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.citiesBar">Top 10 Cidades</h4>
            <canvas id="chart-cities-bar" class="chart-canvas"></canvas>
          </div>
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.statesBar">Distribui√ß√£o por Estado</h4>
            <canvas id="chart-states-bar" class="chart-canvas"></canvas>
          </div>
        </div>
      </section>

      <!-- Charts Section: Donation Methods -->
      <section class="chart-section">
        <h3 class="chart-section-title" data-i18n="statistics.byDonation">üí∞ M√©todos de Doa√ß√£o</h3>
        <div class="chart-grid">
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.donationBar">M√©todos Mais Aceitos</h4>
            <canvas id="chart-donation-bar" class="chart-canvas"></canvas>
          </div>
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.donationPie">Distribui√ß√£o de M√©todos</h4>
            <canvas id="chart-donation-pie" class="chart-canvas"></canvas>
          </div>
        </div>
      </section>

      <!-- Growth Chart -->
      <section class="chart-section">
        <h3 class="chart-section-title" data-i18n="statistics.growth">üìà Crescimento ao Longo do Tempo</h3>
        <div class="full-width-chart chart-card">
          <h4 class="chart-title" data-i18n="statistics.growthLine">Cadastros por M√™s</h4>
          <canvas id="chart-growth-line" class="chart-canvas" style="height: 350px;"></canvas>
        </div>
      </section>

      <!-- Tables Section -->
      <section class="chart-section">
        <h3 class="chart-section-title" data-i18n="statistics.details">üìã Detalhes</h3>

        <div class="chart-grid">
          <!-- Top Cities Table -->
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.topCities">Top 10 Cidades</h4>
            <table class="data-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th data-i18n="statistics.city">Cidade</th>
                  <th data-i18n="statistics.organizations">ONGs</th>
                </tr>
              </thead>
              <tbody id="table-cities-body">
                <!-- Populated by JavaScript -->
              </tbody>
            </table>
          </div>

          <!-- Top Categories Table -->
          <div class="chart-card">
            <h4 class="chart-title" data-i18n="statistics.topCategories">Top 10 Categorias</h4>
            <table class="data-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th data-i18n="statistics.category">Categoria</th>
                  <th data-i18n="statistics.organizations">ONGs</th>
                </tr>
              </thead>
              <tbody id="table-categories-body">
                <!-- Populated by JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </section>

    </div>

  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-8 mt-auto" role="contentinfo">
    <div class="container mx-auto px-4 text-center">
      <p class="text-white text-sm">
        <span data-i18n="footer.madeWith">Feito com</span> ‚ù§Ô∏è
        <span data-i18n="footer.by">por</span>
        <a href="https://github.com/dwildt" class="text-white hover:text-gray-100 underline transition" target="_blank" rel="noopener">Daniel Wildt</a>
      </p>
      <p class="text-white text-xs mt-2">
        <a href="index.html" class="hover:text-gray-100 transition" data-i18n="nav.home">‚Üê Voltar para Home</a>
      </p>
    </div>
  </footer>

  <!-- Scripts -->
  <script defer src="js/theme.js"></script>
  <script defer src="js/config.js"></script>
  <script defer src="js/i18n.js"></script>
  <script defer src="js/providers/DataProvider.js"></script>
  <script defer src="js/providers/JSONProvider.js"></script>
  <script defer src="js/providers/SQLiteProvider.js"></script>
  <script defer src="js/statisticsCharts.js"></script>
  <script defer src="js/statistics.js"></script>

</body>
</html>
